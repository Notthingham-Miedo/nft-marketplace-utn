{
  "_format": "hh-sol-artifact-1",
  "contractName": "DiploMarketplace",
  "sourceName": "contracts/DiploMarketplace.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_diploToken",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "initialOwner",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "name": "OwnableInvalidOwner",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "OwnableUnauthorizedAccount",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "ReentrancyGuardReentrantCall",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "seller",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "EarningsWithdrawn",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "listingId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "seller",
          "type": "address"
        }
      ],
      "name": "ListingCancelled",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "listingId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "seller",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "nftContract",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        }
      ],
      "name": "NFTListed",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "listingId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "buyer",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "seller",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        }
      ],
      "name": "NFTPurchased",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "listingId",
          "type": "uint256"
        }
      ],
      "name": "buyNFT",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "listingId",
          "type": "uint256"
        }
      ],
      "name": "cancelListing",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "diploToken",
      "outputs": [
        {
          "internalType": "contract IERC20",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "earnings",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getActiveListings",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "listingId",
          "type": "uint256"
        }
      ],
      "name": "getListing",
      "outputs": [
        {
          "internalType": "address",
          "name": "seller",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "nftContract",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "active",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "nftContract",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        }
      ],
      "name": "listNFT",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "listings",
      "outputs": [
        {
          "internalType": "address",
          "name": "seller",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "nftContract",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "price",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "active",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "nextListingId",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50604051610f11380380610f1183398101604081905261002f91610103565b806001600160a01b03811661005e57604051631e4fbdf760e01b81526000600482015260240160405180910390fd5b61006781610097565b50506001808055600280546001600160a01b0319166001600160a01b039390931692909217909155600555610136565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b80516001600160a01b03811681146100fe57600080fd5b919050565b6000806040838503121561011657600080fd5b61011f836100e7565b915061012d602084016100e7565b90509250929050565b610dcc806101456000396000f3fe608060405234801561001057600080fd5b50600436106100b45760003560e01c806387c35bc01161007157806387c35bc0146101cc5780638da5cb5b146101e1578063aaccf1ec146101f2578063ad05f1b4146101fb578063de74e57b1461020e578063f2fde38b1461025b57600080fd5b8063107a274a146100b9578063305a67a81461014357806351ed828814610158578063543fd3131461016b5780636f9cf75514610199578063715018a6146101c4575b600080fd5b6101096100c7366004610c21565b6000908152600360208190526040909120805460018201546002830154938301546004909301546001600160a01b03928316959290911693929160ff90911690565b604080516001600160a01b0396871681529590941660208601529284019190915260608301521515608082015260a0015b60405180910390f35b610156610151366004610c21565b61026e565b005b610156610166366004610c21565b610354565b61018b610179366004610c4f565b60046020526000908152604090205481565b60405190815260200161013a565b6002546101ac906001600160a01b031681565b6040516001600160a01b03909116815260200161013a565b6101566106fb565b6101d461070f565b60405161013a9190610c73565b6000546001600160a01b03166101ac565b61018b60055481565b610156610209366004610cb6565b6107fe565b61010961021c366004610c21565b6003602081905260009182526040909120805460018201546002830154938301546004909301546001600160a01b039283169492909116929060ff1685565b610156610269366004610c4f565b610b3f565b6000818152600360205260409020600481015460ff166102ca5760405162461bcd60e51b81526020600482015260126024820152714c697374696e67206e6f742061637469766560701b60448201526064015b60405180910390fd5b80546001600160a01b031633146103175760405162461bcd60e51b81526020600482015260116024820152702737ba103634b9ba34b7339037bbb732b960791b60448201526064016102c1565b60048101805460ff19169055604051339083907f8e25282255ab31897df2b0456bb993ac7f84d376861aefd84901d2d63a7428a290600090a35050565b61035c610b7a565b6000818152600360205260409020600481015460ff166103b35760405162461bcd60e51b81526020600482015260126024820152714c697374696e67206e6f742061637469766560701b60448201526064016102c1565b8054336001600160a01b039091160361040e5760405162461bcd60e51b815260206004820152601760248201527f43616e6e6f742062757920796f7572206f776e204e465400000000000000000060448201526064016102c1565b60038101546002546040516370a0823160e01b81523360048201526001600160a01b03909116906370a0823190602401602060405180830381865afa15801561045b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061047f9190610ceb565b10156104cd5760405162461bcd60e51b815260206004820152601860248201527f496e73756666696369656e74204449502062616c616e6365000000000000000060448201526064016102c1565b6003810154600254604051636eb1769f60e11b81523360048201523060248201526001600160a01b039091169063dd62ed3e90604401602060405180830381865afa158015610520573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105449190610ceb565b10156105925760405162461bcd60e51b815260206004820152601a60248201527f496e73756666696369656e742044495020616c6c6f77616e636500000000000060448201526064016102c1565b600254815460038301546040516323b872dd60e01b81523360048201526001600160a01b03928316602482015260448101919091529116906323b872dd906064016020604051808303816000875af11580156105f2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106169190610d04565b50600181015481546002830154604051632142170760e11b81526001600160a01b03928316600482015233602482015260448101919091529116906342842e0e90606401600060405180830381600087803b15801561067457600080fd5b505af1158015610688573d6000803e3d6000fd5b5050505060048101805460ff191690558054600282015460038301546040805192835260208301919091526001600160a01b0390921691339185917fd69d4640acbdbbf9091244cb56da6273ff61cd59f33bd19f7fbbcbfc6255fe34910160405180910390a4506106f860018055565b50565b610703610ba4565b61070d6000610bd1565b565b6060600060015b6005548110156107505760008181526003602052604090206004015460ff1615610748578161074481610d26565b9250505b600101610716565b5060008167ffffffffffffffff81111561076c5761076c610d4d565b604051908082528060200260200182016040528015610795578160200160208202803683370190505b509050600060015b6005548110156107f55760008181526003602052604090206004015460ff16156107ed57808383815181106107d4576107d4610d63565b6020908102919091010152816107e981610d26565b9250505b60010161079d565b50909392505050565b610806610b7a565b600081116108565760405162461bcd60e51b815260206004820152601c60248201527f5072696365206d7573742062652067726561746572207468616e20300000000060448201526064016102c1565b6040516331a9108f60e11b81526004810183905233906001600160a01b03851690636352211e90602401602060405180830381865afa15801561089d573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108c19190610d79565b6001600160a01b03161461090a5760405162461bcd60e51b815260206004820152601060248201526f139bdd081bdddb995c881bd98813919560821b60448201526064016102c1565b60405163e985e9c560e01b81523360048201523060248201526001600160a01b0384169063e985e9c590604401602060405180830381865afa158015610954573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109789190610d04565b806109f4575060405163020604bf60e21b81526004810183905230906001600160a01b0385169063081812fc90602401602060405180830381865afa1580156109c5573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109e99190610d79565b6001600160a01b0316145b610a405760405162461bcd60e51b815260206004820152601860248201527f4d61726b6574706c616365206e6f7420617070726f766564000000000000000060448201526064016102c1565b6005805460009182610a5183610d26565b909155506040805160a081018252338082526001600160a01b0388811660208085018281528587018b8152606087018b815260016080890181815260008c81526003968790528b902099518a549089166001600160a01b0319918216178b559451918a01805492909816919094161790955551600287015592519085015590516004909301805493151560ff199094169390931790925591519293509183907fb0fe4922ac99799c17a4130d5c045ba2ecdf6e15b75b9ea84aaf0dc28724a42b90610b289088908890918252602082015260400190565b60405180910390a450610b3a60018055565b505050565b610b47610ba4565b6001600160a01b038116610b7157604051631e4fbdf760e01b8152600060048201526024016102c1565b6106f881610bd1565b600260015403610b9d57604051633ee5aeb560e01b815260040160405180910390fd5b6002600155565b6000546001600160a01b0316331461070d5760405163118cdaa760e01b81523360048201526024016102c1565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b600060208284031215610c3357600080fd5b5035919050565b6001600160a01b03811681146106f857600080fd5b600060208284031215610c6157600080fd5b8135610c6c81610c3a565b9392505050565b602080825282518282018190526000918401906040840190835b81811015610cab578351835260209384019390920191600101610c8d565b509095945050505050565b600080600060608486031215610ccb57600080fd5b8335610cd681610c3a565b95602085013595506040909401359392505050565b600060208284031215610cfd57600080fd5b5051919050565b600060208284031215610d1657600080fd5b81518015158114610c6c57600080fd5b600060018201610d4657634e487b7160e01b600052601160045260246000fd5b5060010190565b634e487b7160e01b600052604160045260246000fd5b634e487b7160e01b600052603260045260246000fd5b600060208284031215610d8b57600080fd5b8151610c6c81610c3a56fea264697066735822122052de67a7985a14c59ea5e5d18f3a85c56dbac1d6f715621b9eb1fb387a3d3e0d64736f6c634300081e0033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100b45760003560e01c806387c35bc01161007157806387c35bc0146101cc5780638da5cb5b146101e1578063aaccf1ec146101f2578063ad05f1b4146101fb578063de74e57b1461020e578063f2fde38b1461025b57600080fd5b8063107a274a146100b9578063305a67a81461014357806351ed828814610158578063543fd3131461016b5780636f9cf75514610199578063715018a6146101c4575b600080fd5b6101096100c7366004610c21565b6000908152600360208190526040909120805460018201546002830154938301546004909301546001600160a01b03928316959290911693929160ff90911690565b604080516001600160a01b0396871681529590941660208601529284019190915260608301521515608082015260a0015b60405180910390f35b610156610151366004610c21565b61026e565b005b610156610166366004610c21565b610354565b61018b610179366004610c4f565b60046020526000908152604090205481565b60405190815260200161013a565b6002546101ac906001600160a01b031681565b6040516001600160a01b03909116815260200161013a565b6101566106fb565b6101d461070f565b60405161013a9190610c73565b6000546001600160a01b03166101ac565b61018b60055481565b610156610209366004610cb6565b6107fe565b61010961021c366004610c21565b6003602081905260009182526040909120805460018201546002830154938301546004909301546001600160a01b039283169492909116929060ff1685565b610156610269366004610c4f565b610b3f565b6000818152600360205260409020600481015460ff166102ca5760405162461bcd60e51b81526020600482015260126024820152714c697374696e67206e6f742061637469766560701b60448201526064015b60405180910390fd5b80546001600160a01b031633146103175760405162461bcd60e51b81526020600482015260116024820152702737ba103634b9ba34b7339037bbb732b960791b60448201526064016102c1565b60048101805460ff19169055604051339083907f8e25282255ab31897df2b0456bb993ac7f84d376861aefd84901d2d63a7428a290600090a35050565b61035c610b7a565b6000818152600360205260409020600481015460ff166103b35760405162461bcd60e51b81526020600482015260126024820152714c697374696e67206e6f742061637469766560701b60448201526064016102c1565b8054336001600160a01b039091160361040e5760405162461bcd60e51b815260206004820152601760248201527f43616e6e6f742062757920796f7572206f776e204e465400000000000000000060448201526064016102c1565b60038101546002546040516370a0823160e01b81523360048201526001600160a01b03909116906370a0823190602401602060405180830381865afa15801561045b573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061047f9190610ceb565b10156104cd5760405162461bcd60e51b815260206004820152601860248201527f496e73756666696369656e74204449502062616c616e6365000000000000000060448201526064016102c1565b6003810154600254604051636eb1769f60e11b81523360048201523060248201526001600160a01b039091169063dd62ed3e90604401602060405180830381865afa158015610520573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105449190610ceb565b10156105925760405162461bcd60e51b815260206004820152601a60248201527f496e73756666696369656e742044495020616c6c6f77616e636500000000000060448201526064016102c1565b600254815460038301546040516323b872dd60e01b81523360048201526001600160a01b03928316602482015260448101919091529116906323b872dd906064016020604051808303816000875af11580156105f2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106169190610d04565b50600181015481546002830154604051632142170760e11b81526001600160a01b03928316600482015233602482015260448101919091529116906342842e0e90606401600060405180830381600087803b15801561067457600080fd5b505af1158015610688573d6000803e3d6000fd5b5050505060048101805460ff191690558054600282015460038301546040805192835260208301919091526001600160a01b0390921691339185917fd69d4640acbdbbf9091244cb56da6273ff61cd59f33bd19f7fbbcbfc6255fe34910160405180910390a4506106f860018055565b50565b610703610ba4565b61070d6000610bd1565b565b6060600060015b6005548110156107505760008181526003602052604090206004015460ff1615610748578161074481610d26565b9250505b600101610716565b5060008167ffffffffffffffff81111561076c5761076c610d4d565b604051908082528060200260200182016040528015610795578160200160208202803683370190505b509050600060015b6005548110156107f55760008181526003602052604090206004015460ff16156107ed57808383815181106107d4576107d4610d63565b6020908102919091010152816107e981610d26565b9250505b60010161079d565b50909392505050565b610806610b7a565b600081116108565760405162461bcd60e51b815260206004820152601c60248201527f5072696365206d7573742062652067726561746572207468616e20300000000060448201526064016102c1565b6040516331a9108f60e11b81526004810183905233906001600160a01b03851690636352211e90602401602060405180830381865afa15801561089d573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108c19190610d79565b6001600160a01b03161461090a5760405162461bcd60e51b815260206004820152601060248201526f139bdd081bdddb995c881bd98813919560821b60448201526064016102c1565b60405163e985e9c560e01b81523360048201523060248201526001600160a01b0384169063e985e9c590604401602060405180830381865afa158015610954573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109789190610d04565b806109f4575060405163020604bf60e21b81526004810183905230906001600160a01b0385169063081812fc90602401602060405180830381865afa1580156109c5573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906109e99190610d79565b6001600160a01b0316145b610a405760405162461bcd60e51b815260206004820152601860248201527f4d61726b6574706c616365206e6f7420617070726f766564000000000000000060448201526064016102c1565b6005805460009182610a5183610d26565b909155506040805160a081018252338082526001600160a01b0388811660208085018281528587018b8152606087018b815260016080890181815260008c81526003968790528b902099518a549089166001600160a01b0319918216178b559451918a01805492909816919094161790955551600287015592519085015590516004909301805493151560ff199094169390931790925591519293509183907fb0fe4922ac99799c17a4130d5c045ba2ecdf6e15b75b9ea84aaf0dc28724a42b90610b289088908890918252602082015260400190565b60405180910390a450610b3a60018055565b505050565b610b47610ba4565b6001600160a01b038116610b7157604051631e4fbdf760e01b8152600060048201526024016102c1565b6106f881610bd1565b600260015403610b9d57604051633ee5aeb560e01b815260040160405180910390fd5b6002600155565b6000546001600160a01b0316331461070d5760405163118cdaa760e01b81523360048201526024016102c1565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b600060208284031215610c3357600080fd5b5035919050565b6001600160a01b03811681146106f857600080fd5b600060208284031215610c6157600080fd5b8135610c6c81610c3a565b9392505050565b602080825282518282018190526000918401906040840190835b81811015610cab578351835260209384019390920191600101610c8d565b509095945050505050565b600080600060608486031215610ccb57600080fd5b8335610cd681610c3a565b95602085013595506040909401359392505050565b600060208284031215610cfd57600080fd5b5051919050565b600060208284031215610d1657600080fd5b81518015158114610c6c57600080fd5b600060018201610d4657634e487b7160e01b600052601160045260246000fd5b5060010190565b634e487b7160e01b600052604160045260246000fd5b634e487b7160e01b600052603260045260246000fd5b600060208284031215610d8b57600080fd5b8151610c6c81610c3a56fea264697066735822122052de67a7985a14c59ea5e5d18f3a85c56dbac1d6f715621b9eb1fb387a3d3e0d64736f6c634300081e0033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
